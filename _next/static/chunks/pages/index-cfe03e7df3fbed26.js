(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2012)}])},2012:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return D}});var r=n(5944),o=n(7294),i=n(8621),c=n(9520),a=n(6242),u=n(1701),s=n(4267),l=n(3946),d=n(7357),f=n(2023),p=n(6870),h=n(9696),m=n(5268),y=n(45),v=n(1899),Z=n(4051),g=n.n(Z);function w(t,e,n,r,o,i,c){try{var a=t[i](c),u=a.value}catch(s){return void n(s)}a.done?e(u):Promise.resolve(u).then(r,o)}function x(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function c(t){w(i,r,o,c,a,"next",t)}function a(t){w(i,r,o,c,a,"throw",t)}c(void 0)}))}}function b(t,e){return k.apply(this,arguments)}function k(){return k=x(g().mark((function t(e,n){var r,o,i=arguments;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},t.next=3,fetch(n,{method:e,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:"POST"===e?JSON.stringify(r):void 0});case 3:return o=t.sent,t.abrupt("return",o.json());case 5:case"end":return t.stop()}}),t)}))),k.apply(this,arguments)}function C(t,e,n,r,o,i,c){try{var a=t[i](c),u=a.value}catch(s){return void n(s)}a.done?e(u):Promise.resolve(u).then(r,o)}function N(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function c(t){C(i,r,o,c,a,"next",t)}function a(t){C(i,r,o,c,a,"throw",t)}c(void 0)}))}}var S="https://api.blockfeeds.xyz";function B(t,e,n){return T.apply(this,arguments)}function T(){return(T=N(g().mark((function t(e,n,r){var o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b("GET","".concat(S,"/articles?num=").concat(e,"&cursor=").concat(n,"&lang=").concat(r));case 2:return o=t.sent,t.abrupt("return",o.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(){return(_=N(g().mark((function t(e){var n;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b("POST","".concat(S,"/article/vote"),e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(t){var e=document.createElement("div");e.innerHTML=t,e.style.cssText="position:fixed;top:30%;left:50%;transform: translateX(-50%);background:rgb(50, 50, 50);color:#fff;border-radius:8px;padding:8px 15px;z-index:1000;",document.body.append(e),setTimeout((function(){return e.remove()}),1e3)}var E=function(t){var e=t.article,n=(0,o.useState)(0),i=n[0],c=n[1],Z=function(t){0===i&&(c(t),function(t){return _.apply(this,arguments)}({id:e.id,actionType:t}).catch(console.warn))};return(0,r.BX)(a.Z,{sx:{marginBottom:"16px"},children:[(0,r.tZ)(u.Z,{sx:{paddingBottom:"8px"},title:(0,r.tZ)(d.Z,{className:"article-title",children:e.link?(0,r.tZ)("a",{className:"article-title",href:e.link,target:"_blank",rel:"noreferrer",children:e.title}):(0,r.tZ)("p",{className:"article-title",children:e.title})}),subheader:(0,r.BX)(d.Z,{className:"article-sub-title",children:[(0,r.tZ)("span",{children:e.author.join(",")}),(0,r.tZ)("span",{children:e.pubDate})]})}),(0,r.tZ)(s.Z,{className:"article-desc",onClickCapture:function(t){t.preventDefault(),t.stopPropagation()},children:(0,r.tZ)("div",{dangerouslySetInnerHTML:{__html:e.description}})}),(0,r.BX)(f.Z,{className:"article-action",children:[(0,r.BX)("div",{children:[(0,r.tZ)(l.Z,{onClick:function(){return Z(1)},children:1===i?(0,r.tZ)(p.Z,{}):(0,r.tZ)(m.Z,{})}),(0,r.tZ)("span",{className:"vote-count",children:e.thumbUp+(1===i?1:0)})]}),(0,r.BX)("div",{children:[(0,r.tZ)(l.Z,{onClick:function(){return Z(2)},children:2===i?(0,r.tZ)(h.Z,{}):(0,r.tZ)(y.Z,{})}),(0,r.tZ)("span",{className:"vote-count",children:e.thumbDown+(2===i?1:0)})]}),(0,r.tZ)(l.Z,{onClick:function(){!function(t,e){try{var n=document.createElement("input");n.setAttribute("readonly","readonly"),n.setAttribute("value",t),n.style.position="fixed",n.style.width="100px",n.style.left="-10000px",document.body.appendChild(n),n.focus(),n.setSelectionRange&&(n.setSelectionRange(0,n.value.length),document.execCommand("copy"),document.body.removeChild(n))}catch(r){return console.warn(r),A("Failed!"),!1}A(e||"Copied!")}("".concat(e.title," \n ").concat(e.link))},children:(0,r.tZ)(v.Z,{})})]})]})},X=n(1163),F=n(8456),P=n(9008),O=n.n(P);function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j(t){return function(t){if(Array.isArray(t))return I(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var D=function(t){var e=t.articles,n=t.xCursor,a=(0,i.Z)().y,u=(0,X.useRouter)().query,s=(0,o.useState)(e),l=s[0],f=s[1],p=(0,o.useState)(n),h=p[0],m=p[1],y=(0,o.useState)(!1),v=y[0],Z=y[1],g=u.lang||"all";return(0,o.useEffect)((function(){Z(!0),B(10,"",g).then((function(t){m(t.xCursor),f(t.items),Z(!1)})).catch((function(){Z(!1)}))}),[g]),(0,o.useEffect)((function(){!v&&h&&a+window.innerHeight+600>document.scrollingElement.scrollHeight&&(Z(!0),B(10,h,g).then((function(t){m(t.xCursor),f(j(l).concat(j(t.items))),Z(!1)})).catch((function(){Z(!1)})))}),[a]),(0,r.BX)(r.HY,{children:[(0,r.BX)(O(),{children:[(0,r.tZ)("title",{children:"BlockFeeds - Crypto News Aggregator"}),(0,r.tZ)("meta",{name:"title",content:"BlockFeeds - Crypto News Aggregator"}),(0,r.tZ)("meta",{name:"description",content:"BlockFeeds is an efficient crypto news platform. It gathers the latest crypto information from RSS, such as Defi, GameFi, NFTs, IDO..."}),(0,r.tZ)("meta",{name:"twitter:title",content:"BlockFeeds - Crypto News Aggregator"}),(0,r.tZ)("meta",{name:"twitter:description",content:"BlockFeeds is an efficient crypto news platform. It gathers the latest crypto information from RSS, such as Defi, GameFi, NFTs, IDO..."})]}),(0,r.BX)(c.Z,{maxWidth:"sm",sx:{paddingTop:"78px"},children:[null===l||void 0===l?void 0:l.map((function(t){return(0,r.tZ)(E,{article:t},t.id)})),v&&(0,r.tZ)(d.Z,{sx:{display:"flex",justifyContent:"center"},children:(0,r.tZ)(F.Z,{size:24})})]})]})}}},function(t){t.O(0,[856,774,888,179],(function(){return e=8312,t(t.s=e);var e}));var e=t.O();_N_E=e}]);